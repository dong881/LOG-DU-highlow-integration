[HW]   # /dev/cpu_dma_latency set to 2 us
[0m[1;31m[HW]   Can't set cpu frequency
[0m[ENB_APP]   nfapi running mode: PNF
[0m[GNB_APP]   Getting GNBSParams
[0m[ITTI]   Starting itti queue: TASK_UNKNOWN as task 0
[0m[ITTI]   Starting itti queue: TASK_TIMER as task 1
[0m[ITTI]   Starting itti queue: TASK_L2L1 as task 2
[0m[ITTI]   Starting itti queue: TASK_BM as task 3
[0m[ITTI]   Starting itti queue: TASK_PHY_ENB as task 4
[0m[ITTI]   Starting itti queue: TASK_MAC_ENB as task 5
[0m[ITTI]   Starting itti queue: TASK_MAC_GNB as task 6
[0m[ITTI]   Starting itti queue: TASK_RLC_ENB as task 7
[0m[ITTI]   Starting itti queue: TASK_RRC_ENB_NB_IoT as task 8
[0m[ITTI]   Starting itti queue: TASK_PDCP_ENB as task 9
[0m[ITTI]   Starting itti queue: TASK_PDCP_GNB as task 10
[0m[ITTI]   Starting itti queue: TASK_DATA_FORWARDING as task 11
[0m[ITTI]   Starting itti queue: TASK_END_MARKER as task 12
[0m[ITTI]   Starting itti queue: TASK_RRC_ENB as task 13
[0m[ITTI]   Starting itti queue: TASK_RRC_GNB as task 14
[0m[ITTI]   Starting itti queue: TASK_RAL_ENB as task 15
[0m[ITTI]   Starting itti queue: TASK_S1AP as task 16
[0m[ITTI]   Starting itti queue: TASK_NGAP as task 17
[0m[ITTI]   Starting itti queue: TASK_X2AP as task 18
[0m[ITTI]   Starting itti queue: TASK_M2AP_ENB as task 19
[0m[ITTI]   Starting itti queue: TASK_M2AP_MCE as task 20
[0m[ITTI]   Starting itti queue: TASK_M3AP as task 21
[0m[ITTI]   Starting itti queue: TASK_M3AP_MME as task 22
[0m[ITTI]   Starting itti queue: TASK_M3AP_MCE as task 23
[0m[ITTI]   Starting itti queue: TASK_SCTP as task 24
[0m[ITTI]   Starting itti queue: TASK_ENB_APP as task 25
[0m[ITTI]   Starting itti queue: TASK_GNB_APP as task 26
[0m[ITTI]   Starting itti queue: TASK_MCE_APP as task 27
[0m[ITTI]   Starting itti queue: TASK_MME_APP as task 28
[0m[ITTI]   Starting itti queue: TASK_FLEXRAN_AGENT as task 29
[0m[ITTI]   Starting itti queue: TASK_PHY_UE as task 30
[0m[ITTI]   Starting itti queue: TASK_MAC_UE as task 31
[0m[ITTI]   Starting itti queue: TASK_RLC_UE as task 32
[0m[ITTI]   Starting itti queue: TASK_PDCP_UE as task 33
[0m[ITTI]   Starting itti queue: TASK_RRC_UE as task 34
[0m[ITTI]   Starting itti queue: TASK_RRC_NRUE as task 35
[0m[ITTI]   Starting itti queue: TASK_NAS_UE as task 36
[0m[ITTI]   Starting itti queue: TASK_RAL_UE as task 37
[0m[ITTI]   Starting itti queue: TASK_GTPV1_U as task 38
[0m[ITTI]   Starting itti queue: TASK_CU_F1 as task 39
[0m[ITTI]   Starting itti queue: TASK_DU_F1 as task 40
[0m[ITTI]   Starting itti queue: TASK_RRC_UE_SIM as task 41
[0m[ITTI]   Starting itti queue: TASK_RRC_GNB_SIM as task 42
[0m[ITTI]   Starting itti queue: TASK_RRC_NSA_UE as task 43
[0m[ITTI]   Starting itti queue: TASK_RRC_NSA_NRUE as task 44
[0m[ITTI]   Starting itti queue: TASK_NAS_NRUE as task 45
[0m[OPT]   OPT disabled
[0m[HW]   Version: Branch: YC_develop Abrev. Hash: 61312ca6e2 Date: Fri Aug 12 05:33:12 2022 +0000
[0m[NR_PHY]   PRB blacklist 
[0m[NR_PHY]   RC.gNB = 0x55fd329c9a00
[0m[NR_PHY]   RC.gNB[0] = 0x7f6919fbe010
[0m[NR_PHY]   Copying 0 blacklisted PRB to L1 context
[0m[PHY]   RCconfig_NR_L1() NFAPI PNF mode - RC.nb_nr_inst=1 this is because phy_init_RU() uses that to index and not RC.num_gNB - why the 2 similar variables?
[0m[PHY]   RCconfig_NR_L1() NFAPI PNF mode - RC.nb_nr_CC[0]=1 for init_gNB_afterRU()
[0m[PHY]   RCconfig_NR_L1() NFAPI PNF mode - RC.nb_nr_macrlc_inst:1 because used by mac_top_init_gNB()
[0m[ENB_APP]   nfapi running mode: PNF
[0m[PHY]   l1_north_init_gNB() RC.nb_nr_L1_inst:1
[0m[PHY]   Installing callbacks for IF_Module - UL_indication
[0m[MAC]   Allocating shared L1/L2 interface structure for instance 0 @ 0x55fd329ce400
[0m[PHY]   l1_north_init_gNB() RC.gNB[0] installing callbacks
[0mCMDLINE: "/home/gnb/OAIOSC/OAI_L1/cmake_targets/ran_build/build/nr-softmodem" "-O" "../../../../OSC_L2/mwnl/oai_pnf_conf/oaiL1.nfapi.usrpb210.conf" "--sa" "-E" "--gNBs.[0].min_rxtxtime" "6" "--continuous-tx" "--nfapi" "1" 
[CONFIG] get parameters from libconfig ../../../../OSC_L2/mwnl/oai_pnf_conf/oaiL1.nfapi.usrpb210.conf , debug flags: 0x00000000
[LIBCONFIG] Path for include directive set to: ../../../../OSC_L2/mwnl/oai_pnf_conf
[CONFIG] function config_libconfig_init returned 0
[CONFIG] config module libconfig loaded
[LIBCONFIG] config: 1/1 parameters successfully set, (1 to default value)
[LIBCONFIG] log_config: 3/3 parameters successfully set, (1 to default value)
[LIBCONFIG] log_config: 55/55 parameters successfully set, (49 to default value)
[LIBCONFIG] log_config: 55/55 parameters successfully set, (55 to default value)
[LIBCONFIG] log_config: 16/16 parameters successfully set, (16 to default value)
[LIBCONFIG] log_config: 16/16 parameters successfully set, (16 to default value)
log init done
Reading in command-line options
[LIBCONFIG] (root): 36/36 parameters successfully set, (32 to default value)
[LIBCONFIG] (root): 5/5 parameters successfully set, (4 to default value)
[LIBCONFIG] (root): 2/2 parameters successfully set, (0 to default value)
[LIBCONFIG] THREAD_STRUCT.[0]: 2/2 parameters successfully set, (0 to default value)
[LIBCONFIG] THREAD_STRUCT.[0]: 2/2 parameters successfully set, (0 to default value)
[CONFIG] parallel_conf is set to 0
[CONFIG] worker_conf is set to 1
Configuration: nb_rrc_inst 1, nb_nr_L1_inst 1, nb_ru 1
[LIBCONFIG] TTracer: 4/4 parameters successfully set, (4 to default value)
configuring for RAU/RRU
CPU Freq is 2.095168 
[LIBCONFIG] opt: 3/3 parameters successfully set, (3 to default value)
[LIBCONFIG] (root): 2/2 parameters successfully set, (0 to default value)
[LIBCONFIG] gNBs.[0]: 27/27 parameters successfully set, (18 to default value)
[LIBCONFIG] L1s.[0]: 15/15 parameters successfully set, (6 to default value)
configure_nr_nfapi_pnf() PNF





configure_nr_nfapi_pnf() VNF:127.0.0.1:62324 PNF_PHY[addr:127.0.0.2 UDP:tx_addr:127.0.0.1:50611 rx:32123]
Initializing northbound interface for L1

 Read message unpack:  0  0  1  0  0  8  0  0 
[PNF] pnf param request

 Read message unpack:  0  0  1  2  0  26  0  0  16  3  0  14  0  2  0  1  0  0  0  0  0  0  0  0  0  0 
[PNF] pnf config request
[PNF] pnf config request assigned phy_id 1 to phy_config_index 0
[PNF] Sent pnf_config_resp

 Read message unpack:  0  0  1  4  0  8  0  0 
Received NFAPI_PNF_START_REQUEST
[PNF] Sent NFAPI_PNF_START_RESP

 Read message unpack:  0  1  0  0  0  8  0  0 
[PNF] Received NFAPI_PARAM_REQUEST phy_id:1
TAG value :2
RUNNING pack_param_response
[PNF] Sent NFAPI_PNF_PARAM_RESPONSE phy_id:1 number_of_tlvs:62
[PNF] param request .. exit

 Read message unpack:  0  1  0  2  2  236  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  2  2  2  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  2  2  2  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  2  2  2  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1[PHY]   DL frequency 2188160000 Hz, UL frequency 1788160000 Hz: band 66, uldl offset -400000000 Hz
[0m[32m[PHY]   Configuring MIB for instance 0, : (Nid_cell 1,DL freq 2188160000, UL freq 1788160000)
[0m[PHY]   Initializing frame parms for mu 1, N_RB 106, Ncp 0
[0m[PHY]   Init: N_RB_DL 106, first_carrier_offset 900, nb_prefix_samples 108,nb_prefix_samples0 132
[0m[PHY]   Doing symbol rotation calculation for gNB TX/RX, f0 2188160000.000000 Hz, Nsymb 28
[0m[PHY]   Symbol rotation 0/28 => tl 0.000000 (16383,-28378) (0.166667)
[0m[PHY]   Symbol rotation 1/28 => tl 0.000036 (-16384,-28378) (0.333333)
[0m[PHY]   Symbol rotation 2/28 => tl 0.000072 (-32767,0) (0.500000)
[0m[PHY]   Symbol rotation 3/28 => tl 0.000108 (-16384,28377) (0.666667)
[0m[PHY]   Symbol rotation 4/28 => tl 0.000143 (16383,28377) (0.833333)
[0m[PHY]   Symbol rotation 5/28 => tl 0.000179 (32767,-1) (0.000000)
[0m[PHY]   Symbol rotation 6/28 => tl 0.000215 (16383,-28378) (0.166667)
[0m[PHY]   Symbol rotation 7/28 => tl 0.000250 (-16384,-28378) (0.333333)
[0m[PHY]   Symbol rotation 8/28 => tl 0.000286 (-32767,0) (0.500000)
[0m[PHY]   Symbol rotation 9/28 => tl 0.000322 (-16384,28377) (0.666667)
[0m[PHY]   Symbol rotation 10/28 => tl 0.000357 (16383,28377) (0.833333)
[0m[PHY]   Symbol rotation 11/28 => tl 0.000393 (32767,-1) (0.000000)
[0m[PHY]   Symbol rotation 12/28 => tl 0.000429 (16383,-28378) (0.166667)
[0m[PHY]   Symbol rotation 13/28 => tl 0.000464 (-16384,-28378) (0.333333)
[0m[PHY]   Symbol rotation 14/28 => tl 0.000500 (16383,-28378) (0.166667)
[0m[PHY]   Symbol rotation 15/28 => tl 0.000536 (-16384,-28378) (0.333333)
[0m[PHY]   Symbol rotation 16/28 => tl 0.000572 (-32767,0) (0.500000)
[0m[PHY]   Symbol rotation 17/28 => tl 0.000608 (-16384,28377) (0.666667)
[0m[PHY]   Symbol rotation 18/28 => tl 0.000643 (16383,28377) (0.833333)
[0m[PHY]   Symbol rotation 19/28 => tl 0.000679 (32767,-1) (0.000000)
[0m[PHY]   Symbol rotation 20/28 => tl 0.000715 (16383,-28378) (0.166667)
[0m[PHY]   Symbol rotation 21/28 => tl 0.000750 (-16384,-28378) (0.333333)
[0m[PHY]   Symbol rotation 22/28 => tl 0.000786 (-32767,0) (0.500000)
[0m[PHY]   Symbol rotation 23/28 => tl 0.000822 (-16384,28377) (0.666667)
[0m[PHY]   Symbol rotation 24/28 => tl 0.000857 (16383,28377) (0.833333)
[0m[PHY]   Symbol rotation 25/28 => tl 0.000893 (32767,0) (1.000000)
[0m[PHY]   Symbol rotation 26/28 => tl 0.000929 (16383,-28378) (0.166667)
[0m[PHY]   Symbol rotation 27/28 => tl 0.000964 (-16384,-28378) (0.333333)
[0m[PHY]   Doing symbol rotation calculation for gNB TX/RX, f0 1788160000.000000 Hz, Nsymb 28
[0m[PHY]   Symbol rotation 0/28 => tl 0.000000 (-16384,-28378) (0.333333)
[0m[PHY]   Symbol rotation 1/28 => tl 0.000036 (-16384,28377) (0.666667)
[0m[PHY]   Symbol rotation 2/28 => tl 0.000072 (32767,-1) (0.000000)
[0m[PHY]   Symbol rotation 3/28 => tl 0.000108 (-16384,-28378) (0.333333)
[0m[PHY]   Symbol rotation 4/28 => tl 0.000143 (-16384,28377) (0.666667)
[0m[PHY]   Symbol rotation 5/28 => tl 0.000179 (32767,-1) (0.000000)
[0m[PHY]   Symbol rotation 6/28 => tl 0.000215 (-16384,-28378) (0.333333)
[0m[PHY]   Symbol rotation 7/28 => tl 0.000250 (-16384,28377) (0.666667)
[0m[PHY]   Symbol rotation 8/28 => tl 0.000286 (32767,-1) (0.000000)
[0m[PHY]   Symbol rotation 9/28 => tl 0.000322 (-16384,-28378) (0.333333)
[0m[PHY]   Symbol rotation 10/28 => tl 0.000357 (-16384,28377) (0.666667)
[0m[PHY]   Symbol rotation 11/28 => tl 0.000393 (32767,-1) (0.000000)
[0m[PHY]   Symbol rotation 12/28 => tl 0.000429 (-16384,-28378) (0.333333)
[0m[PHY]   Symbol rotation 13/28 => tl 0.000464 (-16384,28377) (0.666667)
[0m[PHY]   Symbol rotation 14/28 => tl 0.000500 (-16384,-28378) (0.333333)
[0m[PHY]   Symbol rotation 15/28 => tl 0.000536 (-16384,28377) (0.666667)
[0m[PHY]   Symbol rotation 16/28 => tl 0.000572 (32767,-1) (0.000000)
[0m[PHY]   Symbol rotation 17/28 => tl 0.000608 (-16384,-28378) (0.333333)
[0m[PHY]   Symbol rotation 18/28 => tl 0.000643 (-16384,28377) (0.666667)
[0m[PHY]   Symbol rotation 19/28 => tl 0.000679 (32767,-1) (0.000000)
[0m[PHY]   Symbol rotation 20/28 => tl 0.000715 (-16384,-28378) (0.333333)
[0m[PHY]   Symbol rotation 21/28 => tl 0.000750 (-16384,28377) (0.666667)
[0m[PHY]   Symbol rotation 22/28 => tl 0.000786 (32767,-1) (0.000000)
[0m[PHY]   Symbol rotation 23/28 => tl 0.000822 (-16384,-28378) (0.333333)
[0m[PHY]   Symbol rotation 24/28 => tl 0.000857 (-16384,28377) (0.666667)
[0m[PHY]   Symbol rotation 25/28 => tl 0.000893 (32767,0) (1.000000)
[0m[PHY]   Symbol rotation 26/28 => tl 0.000929 (-16384,-28378) (0.333333)
[0m[PHY]   Symbol rotation 27/28 => tl 0.000964 (-16384,28377) (0.666667)
[0m[PHY]   Timeshift symbol rotation 0 => (32767,0) 0.000000
[0m[PHY]   Timeshift symbol rotation 1 => (32721,1742) -0.053178
[0m[PHY]   Timeshift symbol rotation 2 => (32582,3478) -0.106356
[0m[PHY]   Timeshift symbol rotation 3 => (32351,5205) -0.159534
[0m[PHY]   Timeshift symbol rotation 4 => (32028,6917) -0.212712
[0m[PHY]   Timeshift symbol rotation 5 => (31616,8610) -0.265890
[0m[PHY]   Timeshift symbol rotation 6 => (31113,10278) -0.319068
[0m[PHY]   Timeshift symbol rotation 7 => (30523,11918) -0.372246
[0m[PHY]   Timeshift symbol rotation 8 => (29846,13523) -0.425424
[0m[PHY]   Timeshift symbol rotation 9 => (29085,15090) -0.478602
[0m[ITTI]   Created Posix thread TASK_SCTP
[0m[X2AP]   X2AP is disabled.
[0m[PHY]   gNB 0 configured
[0m[PHY]   fp->scs=30000
[0m[PHY]   fp->ofdm_symbol_size=1536
[0m[PHY]   fp->nb_prefix_samples0=132
[0m[PHY]   fp->nb_prefix_samples=108
[0m[PHY]   fp->slots_per_subframe=2
[0m[PHY]   fp->samples_per_subframe_wCP=43008
[0m[PHY]   fp->samples_per_frame_wCP=430080
[0m[PHY]   fp->samples_per_subframe=46080
[0m[PHY]   fp->samples_per_frame=460800
[0m[PHY]   fp->dl_CarrierFreq=2188160000
[0m[PHY]   fp->ul_CarrierFreq=1788160000
[0m[PHY]   l1_north_init_gNB() RC.nb_nr_L1_inst:1
[0m[PHY]   Installing callbacks for IF_Module - UL_indication
[0m[PHY]   l1_north_init_gNB() RC.gNB[0] installing callbacks
[0m[NGAP]   Starting NGAP layer
[0m[ITTI]   Created Posix thread TASK_NGAP
[0m[PHY]   gNB_app_task() Task ready initialize structures
[0m[ITTI]   Created Posix thread TASK_GNB_APP
[0m[NR_RRC]   Creating NR RRC gNB Task
[0m[NR_PHY]   PRB blacklist 
[0m[NR_PHY]   Copying 0 blacklisted PRB to L1 context
[0m[PHY]   RCconfig_NR_L1() NFAPI PNF mode - RC.nb_nr_inst=1 this is because phy_init_RU() uses that to index and not RC.num_gNB - why the 2 similar variables?
[0m[PHY]   RCconfig_NR_L1() NFAPI PNF mode - RC.nb_nr_CC[0]=1 for init_gNB_afterRU()
[0m[PHY]   RCconfig_NR_L1() NFAPI PNF mode - RC.nb_nr_macrlc_inst:1 because used by mac_top_init_gNB()
[0m[ENB_APP]   nfapi running mode: PNF
[0m[PHY]   l1_north_init_gNB() RC.nb_nr_L1_inst:1
[0m[PHY]   Installing callbacks for IF_Module - UL_indication
[0m[PHY]   l1_north_init_gNB() RC.gNB[0] installing callbacks
[0m[NR_RRC]   Entering main loop of NR_RRC message task
[0m[ITTI]   Created Posix thread TASK_RRC_GNB
[0m[MAC]   [MAIN] Init function start:nb_nr_macrlc_inst=1
[0m[ITTI]   Created Posix thread TASK_GTPV1_U
[0m[PHY]   Initializing gNB 0 single_thread_flag:1
[0m[PHY]   Initializing gNB 0
[0m[PHY]   Registering with MAC interface module (before 0x55fd329ce400)
[0m[PHY]   Installing callbacks for IF_Module - UL_indication
[0m[PHY]   Registering with MAC interface module (after 0x55fd329ce400)
[0m[PHY]   Setting indication lists
[0m[PHY]   [nr-gnb.c] gNB structure allocated
[0m[PHY]   Installing callbacks for IF_Module - UL_indication
[0m[NR_MAC]   PUSCH Target 150, PUCCH Target 200, PUCCH Failure 10, PUSCH Failure 10
[0m[PHY]   gNB_app_task() RC.nb_nr_L1_inst:1
[0m[PHY]   l1_north_init_gNB() RC.nb_nr_L1_inst:1
[0m[PHY]   Installing callbacks for IF_Module - UL_indication
[0m[PHY]   l1_north_init_gNB() RC.gNB[0] installing callbacks
[0m[GNB_APP]   Allocating gNB_RRC_INST for 1 instances
[0m[PHY]   gNB_app_task() RC.nb_nr_inst:1 RC.nrrrc:0x7f690800ce10
[0m[PHY]   gNB_app_task() Creating RRC instance RC.nrrrc[0]:0x7f690800ce30 (1 of 1)
[0m  1  1  1  1  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  2  2  2  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  34  16  1  0  2  0  20  16  2  0  4  0  33  24  248  16  4  0  2  0  106  16  5  0  2  0  1  16  6  0  2  0  20  16  7  0  4  0  26  254  120  16  9  0  2  0  106  16  10  0  2  0  1  16  12  0  2  0  1  16  13  0  1  0  16  14  0  4  0  0  0  0  16  16  0  1  1  16  18  0  1  30  16  19  0  1  0  16  20  0  1  1  16  41  0  1  88  16  21  0  2  0  0  16  23  0  2  0  0  16  24  0  1  4  16  27  0  1  1  16  29  0  2  0  24  16  31  0  1  2  16  32  0  1  0  16  33  0  4  0  0  6  0  16  34  0  4  0  0  0  1  1  0  0  4  127  0  0  1  1  2  0  2  197  179  1  31  0  1  3  1  32  0  1  10  1  30  0  1  30 
[PNF] Received NFAPI_CONFIG_REQ phy_id:1

Timing window tag: 286
Phy_info:Timing window:30 NFAPI_CONFIG:timing_window:30
timing info mode:3
timing info period provided value:10
nr_config_request() NFAPI_NR_CONFIG_DL_BANDWIDTH_TAG N_RB_DL:20
[PNF] CONFIG_REQUEST[num_tlv:34] TLVs processed:6
[PNF] Simulating PHY CONFIG - DJP
DL frequency 2188160000: band 66, UL frequency 1788160000
[LIBCONFIG] eNBs.[0]: 1/1 parameters successfully set, (1 to default value)
[LIBCONFIG] gNBs.[0]: 1/1 parameters successfully set, (1 to default value)
[LIBCONFIG] gNBs.[0].NETWORK_INTERFACES: 10/10 parameters successfully set, (3 to default value)
[PNF] 1 vnf p7 127.0.0.1:50611 timing 30 3 10
[PNF] Sent NFAPI_PNF_CONFIG_RESPONSE phy_id:1

 Read message unpack:  0  1  0  4  0  8  0  0 
[PNF] Received NFAPI_START_REQ phy_id:1
[PNF] P7 remote:127.0.0.1:50611 local:127.0.0.2:32123
subframe_buffer_size configured using phy_info->timing_window:30
[PNF] Sending PNF_START_RESP
Sending NFAPI_START_RESPONSE config:0x55fd329cc180 phy_id:1
[LIBCONFIG] (root): 2/2 parameters successfully set, (0 to default value)
[LIBCONFIG] gNBs.[0]: 27/27 parameters successfully set, (18 to default value)
[LIBCONFIG] L1s.[0]: 15/15 parameters successfully set, (6 to default value)
configure_nr_nfapi_pnf() PNF





configure_nr_nfapi_pnf() VNF:127.0.0.1:62324 PNF_PHY[addr:127.0.0.2 UDP:tx_addr:127.0.0.1:50611 rx:32123]
Initializing northbound interface for L1
[LIBCONFIG] MACRLCs.[0]: 33/33 parameters successfully set, (26 to default value)
[LIBCONFIG] gNBs.[0]: 27/27 parameters successfully set, (18 to default value)
[LIBCONFIG] (root): 2/2 parameters successfully set, (0 to default value)
[LIBCONFIG] gNBs.[0]: 27/27 parameters successfully set, (18 to default value)

 Read message unpack:  0  0  1  0  0  8  0  0 
[PNF] pnf param request

 Read message unpack:  0  0  1  2  0  26  0  0  16  3  0  14  0  2  0  2  0  0  0  0  0  0  0  0  0  0 
[PNF] pnf config request
[LIBCONFIG] MACRLCs.[0]: 33/33 parameters successfully set, (26 to default value)
[PNF] pnf config request assigned phy_id 2 to phy_config_index 0
[PNF] Sent pnf_config_resp

 Read message unpack:  0  0  1  4  0  8  0  0 
Received NFAPI_PNF_START_REQUEST
[PNF] Sent NFAPI_PNF_START_RESP

 Read message unpack:  0  2  0  0  0  8  0  0 
[PNF] Received NFAPI_PARAM_REQUEST phy_id:2
TAG value :2
RUNNING pack_param_response
[PNF] Sent NFAPI_PNF_PARAM_RESPONSE phy_id:2 number_of_tlvs:62
[PNF] param request .. exit
NFAPI*** - mutex and cond created - will block shortly for completion of PNF connection
NFAPI MODE:PNF
START MAIN THREADS
RC.nb_nr_L1_inst:1
Initializing gNB threads single_thread_flag:1 wait_for_sync:0
wait_gNBs()
Waiting for gNB L1 instances to all get configured ... sleeping 50ms (nb_nr_sL1_inst 1)
[LIBCONFIG] (root): 2/2 parameters successfully set, (0 to default value)
[LIBCONFIG] gNBs.[0]: 27/27 parameters successfully set, (18 to default value)
[LIBCONFIG] gNBs.[0].pdcch_ConfigSIB1.[0]: 2/2 parameters successfully set, (0 to default value)
[LIBCONFIG] gNBs.[0].servingCellConfig[RRC]   Read in ServingCellConfigCommon (PhysCellId 0, ABSFREQSSB 641280, DLBand 78, ABSFREQPOINTA 640008, DLBW 106,RACH_TargetReceivedPower -96
[0m[NR_MAC]   NR band duplex spacing is 0 KHz (nr_bandtable[37].band = 78)
[0m[NR_MAC]   NR band 78, duplex mode TDD, duplex spacing = 0 KHz
[0m[NR_MAC]   NR band duplex spacing is 0 KHz (nr_bandtable[37].band = 78)
[0m[NR_MAC]   NR band 78, duplex mode TDD, duplex spacing = 0 KHz
[0m[RRC]   Read in ServingCellConfigDedicated UL (FreqDensity_0 -1, FreqDensity_1 -1, TimeDensity_0 -1, TimeDensity_1 -1, TimeDensity_2 -1, RE offset -1, First_active_BWP_ID 1 SCS 1, LocationandBW 28875 
[0m[GNB_APP]   DL PTRS frequencyDensity 1 not set. Assuming PTRS not present! 
[0m[GNB_APP]   DL PTRS frequencyDensity 1 not set. Assuming PTRS not present! 
[0m[GNB_APP]   DL PTRS frequencyDensity 1 not set. Assuming PTRS not present! 
[0m[GNB_APP]   UL PTRS frequencyDensity 1 not set. Assuming PTRS not present! 
[0m[GNB_APP]   UL PTRS frequencyDensity 1 not set. Assuming PTRS not present! 
[0m[GNB_APP]   UL PTRS frequencyDensity 1 not set. Assuming PTRS not present! 
[0m[NR_RRC]   Setting node_type to ngran_gNB
[0m[GNB_APP]   pdsch_AntennaPorts N1 1
[0m[GNB_APP]   pdsch_AntennaPorts N2 1
[0m[GNB_APP]   pdsch_AntennaPorts XP 1
[0m[GNB_APP]   pusch_AntennaPorts 1
[0m[GNB_APP]   minTXRXTIME 6
[0m[GNB_APP]   SIB1 TDA 1
[0m[GNB_APP]   Do CSI-RS 1
[0m[GNB_APP]   Do SRS 1
[0m[GNB_APP]   256 QAM: may be on
[0m[GNB_APP]   SDAP layer is disabled
[0m[93m[RRC]   no preferred ciphering algorithm set in configuration file, applying default parameters (no security)
[0m[93m[RRC]   no preferred integrity algorithm set in configuration file, applying default parameters (nia2)
[0m[GNB_APP]   RRC starting with node type 2
[0m[GNB_APP]   Sending configuration message to NR_RRC task
[0m[PDCP]   pdcp init,usegtp 
[0m[NR_RRC]   Received message NRRRC_CONFIGURATION_REQ
[0m[NR_RRC]   [gNB 0] Received NRRRC_CONFIGURATION_REQ : 0x7f690800e510
[0m[NR_RRC]   [FRAME 00000][gNB][MOD 00][RNTI 0] Init...
[0m[NR_MAC]   NR band duplex spacing is 0 KHz (nr_bandtable[37].band = 78)
[0m[NR_MAC]   NR band 78, duplex mode TDD, duplex spacing = 0 KHz
[0m[NR_RRC]   [FRAME 00000][gNB][MOD 00][RNTI 0] Checking release 
[0m[NR_RRC]   SIB1 freq: absoluteFrequencySSB 641280, absoluteFrequencyPointA 640008
[0m[NR_RRC]   SIB1 freq: absolute_diff 1272, 2*(absolute_diff/(12*2) - 10) 86
[0m[GNB_APP]   default drx 0
[0m[GTPU]   Configuring GTPu
[0m[GTPU]   SA mode 
[0m[GTPU]   Configuring GTPu address : 192.168.70.129 -> 8146a8c0
[0m[GNB_APP]   [gNB 0] gNB_app_register for instance 0
[0m[GTPU]   Initializing UDP for local address 192.168.70.129 with port 2152
[0mCommon.[0]: 60/60 parameters successfully set, (9 to default value)
[LIBCONFIG] gNBs.[0].servingCellConfigDedicated.[0]: 42/42 parameters successfully set, (21 to default value)
NRRRC 0: Southbound Transport local_mac
[LIBCONFIG] gNBs.[0].plmn_list.[0]: 3/3 parameters successfully set, (0 to default value)
[LIBCONFIG] security: 4/4 parameters successfully set, (2 to default value)
[LIBCONFIG] (root): 2/2 parameters successfully set, (0 to default value)
[LIBCONFIG] gNBs.[0]: 27/27 parameters successfully set, (18 to default value)
[LIBCONFIG] gNBs.[0].plmn_list.[0]: 3/3 parameters successfully set, (0 to default value)
[LIBCONFIG] gNBs.[0].plmn_list.[0].snssaiList.[0]: 2/2 parameters successfully set, (0 to default value)
[LIBCONFIG] gNBs.[0].amf_ip_address.[0]: 4/4 parameters successfully set, (0 to default value)
[LIBCONFIG] gNBs.[0].SCTP: 2/2 parameters successfully set, (0 to default value)
[LIBCONFIG] gNBs.[0].NETWORK_INTERFACES: 10/10 parameters successfully set, (3 to default value)
<SIB1>
    <cellSelectionInfo>
        <q-RxLevMin>-65</q-RxLevMin>
    </cellSelectionInfo>
    <cellAccessRelatedInfo>
        <plmn-IdentityList>
            <PLMN-IdentityInfo>
                <plmn-IdentityList>
                    <PLMN-Identity>
                        <mcc>[LIBCONFIG] (root): 2/2 parameters successfully set, (0 to default value)

                            <MCC-MNC-Digit>2</MCC-MNC-Digit>
                            <MCC-MNC-Digit>0</MCC-MNC-Digit>
                            <MCC-MNC-Digit>8</MCC-MNC-Digit>
                        </mcc>
                        <mnc>
                            <MCC-MNC-Digit>9</MCC-MNC-Digit>
                            <MCC-MNC-Digit>9</MCC-MNC-Digit>
                        </mnc>
                    </PLMN-Identity>
                </plmn-IdentityList>
                <trackingAreaCode>
                    000000000000000000000001
                </trackingAreaCode>
                <cellIdentity>
                    000000000000000000000000111000000000
                </cellIdentity>
                <cellReservedForOperatorUse><notReserved/></cellReservedForOperatorUse>
            </PLMN-IdentityInfo>
        </plmn-IdentityList>
    </cellAccessRelatedInfo>
    <servingCellConfigCommon>
        <downlinkConfigCommon>
            <frequencyInfoDL>[LIBCONFIG] gNBs.[0].NETWORK_INTERFACES: 10/10 parameters successfully set, (3 to default value)

                <frequencyBandList>
                    <NR-MultiBandInfo>
                        <freqBandIndicatorNR>78</freqBandIndicatorNR>
                    </NR-MultiBandInfo>
                </frequencyBandList>
                <offsetToPointA>86</offsetToPointA>
                <scs-SpecificCarrierList>
                    <SCS-SpecificCarrier>
                        <offsetToCarrier>0</offsetToCarrier>
                        <subcarrierSpacing><kHz30/></subcarrierSpacing>
                        <carrierBandwidth>106</carrierBandwidth>
                    </SCS-SpecificCarrier>
                </scs-SpecificCarrierList>
            </frequencyInfoDL>
            <initialDownlinkBWP>
                <genericParameters>
                    <locationAndBandwidth>28875</locationAndBandwidth>
                    <subcarrierSpacing><kHz30/></subcarrierSpacing>
                </genericParameters>
                <pdcch-ConfigCommon>
                    <setup>
                        <controlResourceSetZero>12</controlResourceSetZero>
                        <searchSpaceZero>0</searchSpaceZero>
                        <commonSearchSpaceList>
                            <SearchSpace>
                                <searchSpaceId>1</searchSpaceId>
                                <controlResourceSetId>0</controlResourceSetId>
                                <monitoringSlotPeriodicityAndOffset>
                                    <sl1></sl1>
                                </monitoringSlotPeriodicityAndOffset>
                                <monitoringSymbolsWithinSlot>
                                    10000000000000
                                </monitoringSymbolsWithinSlot>
                                <nrofCandidates>
                                    <aggregationLevel1><n0/></aggregationLevel1>
                                    <aggregationLevel2><n0/></aggregationLevel2>
                                    <aggregationLevel4><n2/></aggregationLevel4>
                                    <aggregationLevel8><n0/></aggregationLevel8>
                                    <aggregationLevel16><n0/></aggregationLevel16>
                                </nrofCandidates>
                                <searchSpaceType>
                                    <common>
                                        <dci-Format0-0-AndFormat1-0>
                                        </dci-Format0-0-AndFormat1-0>
                                    </common>
                                </searchSpaceType>
                            </SearchSpace>
                            <SearchSpace>
                                <searchSpaceId>5</searchSpaceId>
                                <controlResourceSetId>0</controlResourceSetId>
                                <monitoringSlotPeriodicityAndOffset>
                                    <sl5>0</sl5>
                                </monitoringSlotPeriodicityAndOffset>
                                <duration>2</duration>
                                <monitoringSymbolsWithinSlot>
                                    10000000000000
                                </monitoringSymbolsWithinSlot>
                                <nrofCandidates>
                                    <aggregationLevel1><n0/></aggregationLevel1>
                                    <aggregationLevel2><n0/></aggregationLevel2>
                                    <aggregationLevel4><n4/></aggregationLevel4>
                                    <aggregationLevel8><n2/></aggregationLevel8>
                                    <aggregationLevel16><n1/></aggregationLevel16>
                                </nrofCandidates>
                                <searchSpaceType>
                                    <common>
                                        <dci-Format0-0-AndFormat1-0>
                                        </dci-Format0-0-AndFormat1-0>
                                    </common>
                                </searchSpaceType>
                            </SearchSpace>
                            <SearchSpace>
                                <searchSpaceId>7</searchSpaceId>
                                <controlResourceSetId>0</controlResourceSetId>
                                <monitoringSlotPeriodicityAndOffset>
                                    <sl1></sl1>
                                </monitoringSlotPeriodicityAndOffset>
                                <monitoringSymbolsWithinSlot>
                                    10000000000000
                                </monitoringSymbolsWithinSlot>
                                <nrofCandidates>
                                    <aggregationLevel1><n0/></aggregationLevel1>
                                    <aggregationLevel2><n0/></aggregationLevel2>
                                    <aggregationLevel4><n4/></aggregationLevel4>
                                    <aggregationLevel8><n2/></aggregationLevel8>
                                    <aggregationLevel16><n1/></aggregationLevel16>
                                </nrofCandidates>
                                <searchSpaceType>
                                    <common>
                                        <dci-Format0-0-AndFormat1-0>
                                        </dci-Format0-0-AndFormat1-0>
                                    </common>
                                </searchSpaceType>
                            </SearchSpace>
                        </commonSearchSpaceList>
                        <searchSpaceSIB1>0</searchSpaceSIB1>
                        <searchSpaceOtherSystemInformation>7</searchSpaceOtherSystemInformation>
                        <pagingSearchSpace>5</pagingSearchSpace>
                        <ra-SearchSpace>1</ra-SearchSpace>
                    </setup>
                </pdcch-ConfigCommon>
                <pdsch-ConfigCommon>
                    <setup>
                        <pdsch-TimeDomainAllocationList>
                            <PDSCH-TimeDomainResourceAllocation>
                                <mappingType><typeA/></mappingType>
                                <startSymbolAndLength>40</startSymbolAndLength>
                            </PDSCH-TimeDomainResourceAllocation>
                            <PDSCH-TimeDomainResourceAllocation>
                                <mappingType><typeA/></mappingType>
                                <startSymbolAndLength>54</startSymbolAndLength>
                            </PDSCH-TimeDomainResourceAllocation>
                            <PDSCH-TimeDomainResourceAllocation>
                                <mappingType><typeA/></mappingType>
                                <startSymbolAndLength>57</startSymbolAndLength>
                            </PDSCH-TimeDomainResourceAllocation>
                        </pdsch-TimeDomainAllocationList>
                    </setup>
                </pdsch-ConfigCommon>
            </initialDownlinkBWP>
            <bcch-Config>
                <modificationPeriodCoeff><n2/></modificationPeriodCoeff>
            </bcch-Config>
            <pcch-Config>
                <defaultPagingCycle><rf256/></defaultPagingCycle>
                <nAndPagingFrameOffset>
                    <quarterT>1</quarterT>
                </nAndPagingFrameOffset>
                <ns><one/></ns>
                <firstPDCCH-MonitoringOccasionOfPO>
                    <sCS120KHZoneT-SCS60KHZhalfT-SCS30KHZquarterT-SCS15KHZoneEighthT>
                        <INTEGER>0</INTEGER>
                    </sCS120KHZoneT-SCS60KHZhalfT-SCS30KHZquarterT-SCS15KHZoneEighthT>
                </firstPDCCH-MonitoringOccasionOfPO>
            </pcch-Config>
        </downlinkConfigCommon>
        <uplinkConfigCommon>
            <frequencyInfoUL>
                <scs-SpecificCarrierList>
                    <SCS-SpecificCarrier>
                        <offsetToCarrier>0</offsetToCarrier>
                        <subcarrierSpacing><kHz30/></subcarrierSpacing>
                        <carrierBandwidth>106</carrierBandwidth>
                    </SCS-SpecificCarrier>
                </scs-SpecificCarrierList>
                <p-Max>23</p-Max>
            </frequencyInfoUL>
            <initialUplinkBWP>
                <genericParameters>
                    <locationAndBandwidth>28875</locationAndBandwidth>
                    <subcarrierSpacing><kHz30/></subcarrierSpacing>
                </genericParameters>
                <rach-ConfigCommon>
                    <setup>
                        <rach-ConfigGeneric>
                            <prach-ConfigurationIndex>98</prach-ConfigurationIndex>
                            <msg1-FDM><one/></msg1-FDM>
                            <msg1-FrequencyStart>0</msg1-FrequencyStart>
                            <zeroCorrelationZoneConfig>13</zeroCorrelationZoneConfig>
                            <preambleReceivedTargetPower>-96</preambleReceivedTargetPower>
                            <preambleTransMax><n10/></preambleTransMax>
                            <powerRampingStep><dB2/></powerRampingStep>
                            <ra-ResponseWindow><sl10/></ra-ResponseWindow>
                        </rach-ConfigGeneric>
                        <ssb-perRACH-OccasionAndCB-PreamblesPerSSB>
                            <one><n60/></one>
                        </ssb-perRACH-OccasionAndCB-PreamblesPerSSB>
                        <ra-ContentionResolutionTimer><sf64/></ra-ContentionResolutionTimer>
                        <rsrp-ThresholdSSB>19</rsrp-ThresholdSSB>
                        <prach-RootSequenceIndex>
                            <l139>1</l139>
                        </prach-RootSequenceIndex>
                        <msg1-SubcarrierSpacing><kHz30/></msg1-SubcarrierSpacing>
                        <restrictedSetConfig><unrestrictedSet/></restrictedSetConfig>
                    </setup>
                </rach-ConfigCommon>
                <pusch-ConfigCommon>
                    <setup>
                        <pusch-TimeDomainAllocationList>
                            <PUSCH-TimeDomainResourceAllocation>
                                <k2>6</k2>
                                <mappingType><typeB/></mappingType>
                                <startSymbolAndLength>41</startSymbolAndLength>
                            </PUSCH-TimeDomainResourceAllocation>
                            <PUSCH-TimeDomainResourceAllocation>
                                <k2>6</k2>
                                <mappingType><typeB/></mappingType>
                                <startSymbolAndLength>38</startSymbolAndLength>
                            </PUSCH-TimeDomainResourceAllocation>
                            <PUSCH-TimeDomainResourceAllocation>
                                <k2>7</k2>
                                <mappingType><typeB/></mappingType>
                                <startSymbolAndLength>38</startSymbolAndLength>
                            </PUSCH-TimeDomainResourceAllocation>
                        </pusch-TimeDomainAllocationList>
                        <msg3-DeltaPreamble>1</msg3-DeltaPreamble>
                        <p0-NominalWithGrant>-90</p0-NominalWithGrant>
                    </setup>
                </pusch-ConfigCommon>
                <pucch-ConfigCommon>
                    <setup>
                        <pucch-ResourceCommon>0</pucch-ResourceCommon>
                        <pucch-GroupHopping><neither/></pucch-GroupHopping>
                        <hoppingId>40</hoppingId>
                        <p0-nominal>-90</p0-nominal>
                    </setup>
                </pucch-ConfigCommon>
            </initialUplinkBWP>
            <timeAlignmentTimerCommon><infinity/></timeAlignmentTimerCommon>
        </uplinkConfigCommon>
        <ssb-PositionsInBurst>
            <inOneGroup>
                10000000
            </inOneGroup>
        </ssb-PositionsInBurst>
        <ssb-PeriodicityServingCell><ms20/></ssb-PeriodicityServingCell>
        <tdd-UL-DL-ConfigurationCommon>
            <referenceSubcarrierSpacing><kHz30/></referenceSubcarrierSpacing>
            <pattern1>
                <dl-UL-TransmissionPeriodicity><ms5/></dl-UL-TransmissionPeriodicity>
                <nrofDownlinkSlots>7</nrofDownlinkSlots>
                <nrofDownlinkSymbols>6</nrofDownlinkSymbols>
                <nrofUplinkSlots>2</nrofUplinkSlots>
                <nrofUplinkSymbols>4</nrofUplinkSymbols>
            </pattern1>
        </tdd-UL-DL-ConfigurationCommon>
        <ss-PBCH-BlockPower>-25</ss-PBCH-BlockPower>
    </servingCellConfigCommon>
    <ue-TimersAndConstants>
        <t300><ms400/></t300>
        <t301><ms400/></t301>
        <t310><ms2000/></t310>
        <n310><n10/></n310>
        <t311><ms3000/></t311>
        <n311><n1/></n311>
        <t319><ms400/></t319>
    </ue-TimersAndConstants>
</SIB1>
[93m[GTPU]   bind: Cannot assign requested address
[0m[1;31m[GTPU]   failed to bind socket: 192.168.70.129 2152 
[0m[1;31m[GTPU]   can't create GTP-U instance
[0m[NGAP]   Registered new gNB[0] and macro gNB id 3584
[0m[GTPU]   Created gtpu instance id: -1
[0m[NGAP]   [gNB 0] check the amf registration state
[0m[NR_RRC]   do_SIB23_NR, size 9 
 [0m[NR_RRC]   Done init_NR_SI
[0m[NR_MAC]   Configuring common parameters from NR ServingCellConfig
[0m[NR_MAC]   config_common() dl_BandwidthP:40
[0m[NR_MAC]   NR band duplex spacing is 0 KHz (nr_bandtable[37].band = 78)
[0m[NR_MAC]   Computing frequency (pointA 640008 => 3600120 KHz (freq_min 3300000 KHz, NR band 78 N_OFFs 620000))
[0m[NR_MAC]   config_common() dl_BandwidthP:40
[0m[NR_MAC]   NR band duplex spacing is 0 KHz (nr_bandtable[37].band = 78)
[0m[NR_MAC]   Computing frequency (pointA 640008 => 3600120 KHz (freq_min 3300000 KHz, NR band 78 N_OFFs 620000))
[0m[NR_MAC]   NR band duplex spacing is 0 KHz (nr_bandtable[37].band = 78)
[0m[NR_MAC]   NR band 78, duplex mode TDD, duplex spacing = 0 KHz
[0m[NR_MAC]   Set RX antenna number to 1, Set TX antenna number to 1 (num ssb 1: 80000000,0)
[0m[NR_MAC]   Setting TDD configuration period to 6
[0m[NR_MAC]   TDD has been properly configurated
[0m[PHY]   DL frequency 3619200000 Hz, UL frequency 3619200000 Hz: band 48, uldl offset 0 Hz
[0m[32m[PHY]   Configuring MIB for instance 0, : (Nid_cell 0,DL freq 3619200000, UL freq 3619200000)
[0m[PHY]   Initializing frame parms for mu 1, N_RB 106, Ncp 0
[0m[PHY]   Init: N_RB_DL 106, first_carrier_offset 900, nb_prefix_samples 108,nb_prefix_samples0 132
[0m[1;31m[PHY]   Already gNB already configured, do nothing
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 0 DL 1 UL 0
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 1 DL 1 UL 0
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 2 DL 1 UL 0
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 3 DL 1 UL 0
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 4 DL 1 UL 0
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 5 DL 1 UL 0
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 6 DL 1 UL 0
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 7 DL 1 UL 1
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 8 DL 0 UL 1
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 9 DL 0 UL 1
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 10 DL 1 UL 0
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 11 DL 1 UL 0
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 12 DL 1 UL 0
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 13 DL 1 UL 0
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 14 DL 1 UL 0
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 15 DL 1 UL 0
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 16 DL 1 UL 0
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 17 DL 1 UL 1
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 18 DL 0 UL 1
[0m[NR_MAC]   In rrc_mac_config_req_gNB: slot 19 DL 0 UL 1
[0m[NR_RRC]   [FRAME 00000][gNB][MOD 00][RNTI 0] gNB:OPENAIR NR RRC IN....
[0m[PHY]   Setting clock source to internal
[0m[PHY]   Setting time source to internal
[0m[PHY]   number of L1 instances 1, number of RU 1, number of CPU cores 64
[0m[1;31m[PHY]   DJP - delete code above this /home/gnb/OAIOSC/OAI_L1/executables/nr-ru.c:1733
[0m[PHY]   Copying frame parms from gNB in RC to gNB 0 in ru 0 and frame_parms in ru
[0m[PHY]   Starting ru_thread 0
[0m[PHY]   Initializing RU proc 0 (,synch_to_ext_device),
[0m[PHY]   Starting RU 0 (,synch_to_ext_device),
[0m[PHY]   Initializing frame parms for mu 1, N_RB 106, Ncp 0
[0m[PHY]   Init: N_RB_DL 106, first_carrier_offset 900, nb_prefix_samples 108,nb_prefix_samples0 132
[0m[PHY]   fp->scs=30000
[0m[PHY]   fp->ofdm_symbol_size=1536
[0m[PHY]   fp->nb_prefix_samples0=132
[0m[PHY]   fp->nb_prefix_samples=108
[0m[PHY]   fp->slots_per_subframe=2
[0m[PHY]   fp->samples_per_subframe_wCP=43008
[0m[PHY]   fp->samples_per_frame_wCP=430080
[0m[PHY]   fp->samples_per_subframe=46080
[0m[PHY]   fp->samples_per_frame=460800
[0m[PHY]   fp->dl_CarrierFreq=3619200000
[0m[PHY]   fp->ul_CarrierFreq=3619200000
[0m[PHY]   Channel 0: setting tx_gain offset 90, rx_gain offset 125, tx_freq 3619200000 Hz, rx_freq 3619200000 Hz, tune_offset 0 Hz
[0m[PHY]   Initializing RU signal buffers (if_south local RF) nb_tx 1, nb_rx 1
[0m[PHY]   [INIT] common.txdata[0] = 0x7f6914295040 (1844480 bytes,sf_extension 320)
[0m[PHY]   [INIT] common.txdata[0] = 0x7f6914295540 
[0m[PHY]   nb_tx 1
[0m[PHY]   rxdata_7_5kHz[0] 0x7f691401d040 for RU 0
[0m[PHY]   [INIT] common.txdata_BF= 0x7f68f0000b00 (8 bytes)
[0m[PHY]   txdataF_BF[0] 0x7f6919f93040 for RU 0
[0m[PHY]   rxdataF[0] 0x7f690c5ff040 for RU 0
[0m[PHY]   init feptx thread 0
[0m[PHY]   [INIT] nr_phy_init_RU() ru->num_gNB:1 
[0m[PHY]   init feptx thread 1
[0m[HW]   openair0_cfg[0].sdr_addrs == '(null)'
[0m[HW]   openair0_cfg[0].clock_source == '0' (internal = 0, external = 1)
[0m[HW]   UHD version 4.5.0.0-0ubuntu1~bionic1 (4.5.0)
[0m[HW]   Found USRP b200
[0m[HW]   Setting clock source to internal
[0m[HW]   Setting time source to internal
[0mDL frequency 3619200000: band 48, UL frequency 3619200000
gNB L1 are configured
About to Init RU threads RC.nb_RU:1
Initializing RU threads
configuring RU from file
[LIBCONFIG] RUs.[0]: 33/33 parameters successfully set, (25 to default value)
Set RU mask to 1
Creating RC.ru[0]:0x55fd329d0ce0
Setting function for RU 0 to gNodeB_3GPP
[RU 0] Setting nr_flag 0, nr_band 7, nr_scs_for_raster 1
configuring ru_id 0 (start_rf 0x55fd2f2336b0)
[LIBCONFIG] device.recplay: 8/8 parameters successfully set, (8 to default value)
[LIBCONFIG] device: 1/1 parameters successfully set, (1 to default value)
[LIBCONFIG] loader: 2/2 parameters successfully set, (2 to default value)
[LIBCONFIG] loader.oai_device: 2/2 parameters successfully set, (1 to default value)
shlib_path liboai_device.so
waiting for NFAPI PNF connection and population of global structure (main?)
[LOADER] library liboai_device.so successfully loaded
[HW]   cal 0: freq 3500000000.000000, offset 44.000000, diff 119200000.000000
[0m[HW]   cal 1: freq 2660000000.000000, offset 49.800000, diff 959200000.000000
[0m[HW]   cal 2: freq 2300000000.000000, offset 51.000000, diff 1319200000.000000
[0m[HW]   cal 3: freq 1880000000.000000, offset 53.000000, diff 1739200000.000000
[0m[HW]   cal 4: freq 816000000.000000, offset 57.000000, diff 2803200000.000000
[0m[1;31m[HW]   RX Gain too high, lower by 5.000000 dB
[0m[HW]   RX Gain 0 125.000000 (44.000000) => 81.000000 (max 76.000000)
[0m[HW]   USRP TX_GAIN:-0.25 gain_range:89.75 tx_gain:90.00
[0m[HW]   Actual master clock: 46.080000MHz...
[0m[HW]   Actual clock source internal...
[0m[HW]   Actual time source internal...
[0m[HW]   RF board max packet size 1918, size for 100µs jitter 4608 
[0m[HW]   rx_max_num_samps 1918
[0m[HW]   setting rx channel 0
[0m[HW]   RX Channel 0
[0m[HW]     Actual RX sample rate: 46.080000MSps...
[0m[HW]     Actual RX frequency: 3.619200GHz...
[0m[HW]     Actual RX gain: 76.000000...
[0m[HW]     Actual RX bandwidth: 40.000000M...
[0m[HW]     Actual RX antenna: RX2...
[0m[HW]   TX Channel 0
[0m[HW]     Actual TX sample rate: 46.080000MSps...
[0m[HW]     Actual TX frequency: 3.619200GHz...
[0m[HW]     Actual TX gain: 0.000000...
[0m[HW]     Actual TX bandwidth: 40.000000M...
[0m[HW]     Actual TX antenna: TX/RX...
[0m[HW]     Actual TX packet size: 1916
[0m[HW]   Device timestamp: 2.377314...
[0m[HW]   [RAU] has loaded USRP B200 device.
[0m[PHY]   RU 0 Setting N_TA_offset to 600 samples (factor 1.500000, UL Freq 3600120, N_RB 106, mu 1)
[0m[PHY]   Signaling main thread that RU 0 is ready, sl_ahead 6
[0m[PHY]   init_eNB_afterRU() RC.nb_nr_inst:1
[0m[PHY]   RC.nb_nr_CC[inst:0]:0x7f6919fbe010
[0m[PHY]   [gNB 0] phy_init_nr_gNB() About to wait for gNB to be configured
[0m[PHY]   Initialise nr transport
[0m[PHY]   Allocating Transport Channel Buffers for PUCCH 0/16
[0m[PHY]   Allocating Transport Channel Buffers for PUCCH 1/16
[0m[PHY]   Allocating Transport Channel Buffers for PUCCH 2/16
[0m[PHY]   Allocating Transport Channel Buffers for PUCCH 3/16
[0m[PHY]   Allocating Transport Channel Buffers for PUCCH 4/16
[0m[PHY]   Allocating Transport Channel Buffers for PUCCH 5/16
[0m[PHY]   Allocating Transport Channel Buffers for PUCCH 6/16
[0m[PHY]   Allocating Transport Channel Buffers for PUCCH 7/16
[0m[PHY]   Allocating Transport Channel Buffers for PUCCH 8/16
[0m[PHY]   Allocating Transport Channel Buffers for PUCCH 9/16
[0m[PHY]   Allocating Transport Channel Buffers for PUCCH 10/16
[0m[PHY]   Allocating Transport Channel Buffers for PUCCH 11/16
[0m[PHY]   Allocating Transport Channel Buffers for PUCCH 12/16
[0m[PHY]   Allocating Transport Channel Buffers for PUCCH 13/16
[0m[PHY]   Allocating Transport Channel Buffers for PUCCH 14/16
[0m[PHY]   Allocating Transport Channel Buffers for PUCCH 15/16
[0m[PHY]   Allocating Transport Channel Buffers for SRS 0/16
[0m[PHY]   Allocating Transport Channel Buffers for SRS 1/16
[0m[PHY]   Allocating Transport Channel Buffers for SRS 2/16
[0m[PHY]   Allocating Transport Channel Buffers for SRS 3/16
[0m[PHY]   Allocating Transport Channel Buffers for SRS 4/16
[0m[PHY]   Allocating Transport Channel Buffers for SRS 5/16
[0m[PHY]   Allocating Transport Channel Buffers for SRS 6/16
[0m[PHY]   Allocating Transport Channel Buffers for SRS 7/16
[0m[PHY]   Allocating Transport Channel Buffers for SRS 8/16
[0m[PHY]   Allocating Transport Channel Buffers for SRS 9/16
[0m[PHY]   Allocating Transport Channel Buffers for SRS 10/16
[0m[PHY]   Allocating Transport Channel Buffers for SRS 11/16
[0m[PHY]   Allocating Transport Channel Buffers for SRS 12/16
[0m[PHY]   Allocating Transport Channel Buffers for SRS 13/16
[0m[PHY]   Allocating Transport Channel Buffers for SRS 14/16
[0m[PHY]   Allocating Transport Channel Buffers for SRS 15/16
[0m[PHY]   Allocating Transport Channel Buffers for ULSCH  0/8
[0m[PHY]   Allocating Transport Channel Buffers for ULSCH  1/8
[0m[PHY]   Allocating Transport Channel Buffers for ULSCH  2/8
[0m[PHY]   Allocating Transport Channel Buffers for ULSCH  3/8
[0m[PHY]   Allocating Transport Channel Buffers for ULSCH  4/8
[0m[PHY]   Allocating Transport Channel Buffers for ULSCH  5/8
[0m[PHY]   Allocating Transport Channel Buffers for ULSCH  6/8
[0m[PHY]   Allocating Transport Channel Buffers for ULSCH  7/8
[0m[PHY]   Mapping RX ports from 1 RUs to gNB 0
[0m[PHY]   gNB->num_RU:1
[0m[PHY]   Attaching RU 0 antenna 0 to gNB antenna 0
[0m[PHY]   Number of threads requested in config file: 4, Number of threads available on this machine: 64
[0m[PHY]   Allocating Transport Channel Buffers for DLSCH 0/8
[0m[PHY]   Allocating Transport Channel Buffers for DLSCH 1/8
[0m[PHY]   Allocating Transport Channel Buffers for DLSCH 2/8
[0m[PHY]   Allocating Transport Channel Buffers for DLSCH 3/8
[0m[PHY]   Allocating Transport Channel Buffers for DLSCH 4/8
[0m[PHY]   Allocating Transport Channel Buffers for DLSCH 5/8
[0m[PHY]   Allocating Transport Channel Buffers for DLSCH 6/8
[0m[PHY]   Allocating Transport Channel Buffers for DLSCH 7/8
[0m[PHY]   Allocating Transport Channel Buffers for DLSCH 0/8
[0m[PHY]   Allocating Transport Channel Buffers for DLSCH 1/8
[0m[PHY]   Allocating Transport Channel Buffers for DLSCH 2/8
[0m[PHY]   Allocating Transport Channel Buffers for DLSCH 3/8
[0m[PHY]   Allocating Transport Channel Buffers for DLSCH 4/8
[0m[PHY]   Allocating Transport Channel Buffers for DLSCH 5/8
[0m[PHY]   Allocating Transport Channel Buffers for DLSCH 6/8
[0m[PHY]   Allocating Transport Channel Buffers for DLSCH 7/8
[0m[PHY]   Waiting for RUs to be configured ... RC.ru_mask:00
[0m[PHY]   RUs configured
[0msetup_RU_buffers: frame_parms = 0x55fd329d45b0
waiting for sync (ru_thread,-1/0x55fd2fe862b4,0x55fd30c37700,0x55fd30a8c7e0)
[PNF] waiting for OAI to be configured (eNB/RU)
[PNF] OAI eNB/RU configured
[PNF] About to call init_eNB_afterRU()
[LIBCONFIG] loader.dfts: 2/2 parameters successfully set, (1 to default value)
shlib_path libdfts.so
[LOADER] library libdfts.so successfully loaded
[LIBCONFIG] loader.ldpc: 2/2 parameters successfully set, (1 to default value)
shlib_path libldpc.so
[LOADER] library libldpc.so successfully loaded
create a thread for core -1
create a thread for core -1
create a thread for core -1
create a thread for core -1
waiting for sync (L1_stats_thread,-1/0x55fd2fe862b4,0x55fd30c37700,0x55fd30a8c7e0)
NFAPI: got sync (main?)
wait RUs
ALL RUs READY!
RC.nb_RU:1
ALL RUs ready - init gNBs
NFAPI mode - DO NOT call init_gNB_afterRU()
ALL RUs ready - ALL gNBs ready
Sending sync to all threads
About to call end_configmodule() from main() /home/gnb/OAIOSC/OAI_L1/executables/nr-softmodem.c:790
Called end_configmodule() from main() /home/gnb/OAIOSC/OAI_L1/executables/nr-softmodem.c:795
TYPE <CTRL-C> TO TERMINATE
Entering ITTI signals handler
got sync (L1_stats_thread)
got sync (ru_thread)
[PHY]   RU 0 rf device ready
[0m[PHY]   RU 0 RF started
[0m[MAC]   [GNB]  the NFAPI_MODE_PNF in rx_func is about to send slot_ind sfn : 0, slot : 0
[0m[MAC]   [GNB]  the NFAPI_MODE_PNF in rx_func is about to send slot_ind sfn : 0, slot : 1
[0msleep...
sleep...
sleep...
sleep...
sleep...
sleep...
sleep...
sleep...
sleep...
[MWNL] pnf_p7_slot_ind
[MWNL]  NR_UL_indication
[NFAPI PNF P7] p7_msg_sfn  : 0, p7_msg_slot: 3
[NFAPI PNF P7] phy_sfn     : 1, phy_slot   : 8
[NFAPI PNF P7] The current_sfn_slot_dec : 28 <= recv_sfn_slot_dec + timing_window: 33
[NFAPI PNF] number of pdu is 0
[MWNL] pnf_p7_slot_ind
[MWNL]  NR_UL_indication
[NFAPI PNF P7] p7_msg_sfn  : 0, p7_msg_slot: 3
[NFAPI PNF P7] phy_sfn     : 0, phy_slot   : 8
[NFAPI PNF P7] The current_sfn_slot_dec : 8 <= recv_sfn_slot_dec + timing_window: 33
[NFAPI PNF] number of pdu is 0
slot: 0, expected slot: 1
[1;31m[HW]   [recv] received 1689 samples out of 23040
[0m[1;31m[HW]   Time: 1.00104 s
ERROR_CODE_OVERFLOW (Overflow)

[0m[1;31m[PHY]   rx_rf: Asked for 23040 samples, got 1689 from USRP
[0m[1;31m[PHY]   problem receiving samples
[0m[MAC]   [GNB]  the NFAPI_MODE_PNF in rx_func is about to send slot_ind sfn : 0, slot : 2
[0m[1;31m[PHY]   error, pull two msg, none is good
[0m[1;31m[PHY]   order mistake
[0m[MWNL] pnf_p7_slot_ind
[MWNL]  NR_UL_indication
[NFAPI PNF P7] p7_msg_sfn  : 0, p7_msg_slot: 3
[NFAPI PNF P7] phy_sfn     : 0, phy_slot   : 8
[NFAPI PNF P7] The current_sfn_slot_dec : 8 <= recv_sfn_slot_dec + timing_window: 33
[NFAPI PNF] number of pdu is 0
[MAC]   [GNB]  the NFAPI_MODE_PNF in rx_func is about to send slot_ind sfn : 0, slot : 3
[0m[MWNL] pnf_p7_slot_ind
[MWNL]  NR_UL_indication
[NFAPI PNF P7] p7_msg_sfn  : 0, p7_msg_slot: 3
[NFAPI PNF P7] phy_sfn     : 0, phy_slot   : 9
[NFAPI PNF P7] The current_sfn_slot_dec : 9 <= recv_sfn_slot_dec + timing_window: 33
[NFAPI PNF] number of pdu is 0
[1;31m[HW]   [recv] received 17057 samples out of 23040
[0m[1;31m[HW]   Time: 1.01623 s
ERROR_CODE_OVERFLOW (Overflow)

[0m[1;31m[PHY]   rx_rf: Asked for 23040 samples, got 17057 from USRP
[0m[1;31m[PHY]   problem receiving samples
[0m[PNF] waiting for OAI to be started
1124791545 [W]  350627584: pnf_nr_read_dispatch_message: sctp_recvmsg: unhandled mode with flags 0x0
1124791549 [W]  392591104: pnf_nr_read_dispatch_message: sctp_recvmsg: unhandled mode with flags 0x0
1124791564 [W]  392591104: pnf_nr_read_dispatch_message: Disconnected socket
1124791576 [W]  350627584: pnf_nr_read_dispatch_message: Disconnected socket
1125791660 [E]  350627584: pnf_connect: 1125791662 [E]  392591104: pnf_connect: After connect (address:127.0.0.1 port:62324) errno: 111
After connect (address:127.0.0.1 port:62324) errno: 111
